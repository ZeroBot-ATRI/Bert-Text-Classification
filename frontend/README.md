# 🌐 BERT文本分类Web界面

这是一个现代化的Web界面，提供BERT中文文本分类和完整的模型管理功能。

## ✨ 界面特性

### 🎨 **现代化设计**
- 响应式布局，支持桌面和移动设备
- 渐变背景和流畅动画效果
- 直观的用户交互体验
- Emoji图标增强视觉效果

### 🔧 **功能特点**
- **实时状态监控**：显示API服务和模型加载状态
- **智能文本预测**：输入中文文本，一键获得分类结果
- **概率分布可视化**：动态图表展示各类别预测概率
- **示例文本库**：点击示例快速体验分类功能
- **错误处理**：友好的错误提示和状态反馈
- **🛠️ 完整管理界面**：训练、模型管理、数据统计、模型优化

### 📊 **支持的分类类别**
- 💰 金融财经 (finance)
- 🏠 房地产 (realty)  
- 📈 股票证券 (stocks)
- 🎓 教育培训 (education)
- 🔬 科学技术 (science)
- 👥 社会民生 (society)
- 🏛️ 政治时事 (politics)
- ⚽ 体育运动 (sports)
- 🎮 游戏娱乐 (game)
- 🎬 影视娱乐 (entertainment)

## 🚀 快速开始

### 启动Web界面
```bash
# 方法1：使用集成启动脚本（推荐）
python start.py web

# 方法2：直接使用Web启动脚本
python start_web.py

# 方法3：使用默认启动（现在默认是web界面）
python start.py
```

### 访问界面
服务启动后，浏览器会自动打开界面：
- **Web界面**: http://127.0.0.1:8000/
- **管理控制台**: http://127.0.0.1:8000/admin.html
- **API文档**: http://127.0.0.1:8000/docs
- **健康检查**: http://127.0.0.1:8000/health

## 💡 使用说明

### 1. **检查服务状态**
页面右上角的状态指示器会显示：
- 🟢 **服务正常**：API服务运行正常，模型已加载
- 🔴 **服务离线**：API服务未启动或连接失败

### 2. **输入文本进行分类**
- 在文本框中输入要分类的中文文本
- 点击"🔍 开始分类"按钮
- 等待分析结果（通常1-2秒）

### 3. **查看分类结果**
结果包含：
- **预测类别**：最可能的分类类别
- **置信度**：预测的可信程度（0-100%）
- **概率分布**：所有类别的详细概率

### 4. **使用管理控制台**
- 访问 http://127.0.0.1:8000/admin.html 进入管理界面
- **仪表板**: 查看系统状态、训练进度、数据统计
- **模型训练**: 配置参数并启动训练
- **模型管理**: 查看、评估、删除已训练模型
- **数据管理**: 查看训练数据统计信息
- **模型优化**: NF4量化和剪枝优化功能

### 5. **使用示例文本**
- 点击页面下方的示例文本卡片
- 文本会自动填入输入框
- 快速体验不同类别的分类效果

## 📡 模型优化功能

项目提供完整的模型优化解决方案，支持NF4量化和多种剪枝策略：

### 优化方法
- **NF4量化**: 4位标准化浮点量化，显著减少模型大小
- **智能剪枝**: 基于权重重要性的自适应剪枝
- **块稀疏剪枝**: 块级别稀疏化，提升推理效率
- **组合优化**: 先剪枝后量化，最大化压缩比

### Web界面优化
1. 访问管理控制台的“模型优化”标签页
2. 选择要优化的模型和优化策略
3. 设置优化参数（稀疏度、块大小等）
4. 开始优化并实时查看进度
5. 在“模型性能比较”区域测试优化效果

## 🛠️ 管理功能

本项目提供完整的Web管理界面，包含以下功能模块：

### 📊 仪表板
- **系统状态监控**: CPU、内存、GPU、磁盘使用率
- **训练状态显示**: 实时显示训练进度和状态
- **数据统计**: 训练、验证、测试数据量统计
- **自动刷新**: 每5秒自动更新系统状态

### 🚀 模型训练
- **训练参数配置**: 批次大小、学习率、训练轮数等
- **一键启动/停止训练**: 方便的训练控制
- **实时进度查看**: 训练进度条和状态更新
- **参数验证**: 表单参数自动验证

### 🤖 模型管理
- **模型列表**: 查看所有已训练模型
- **模型信息**: 显示模型大小、创建时间、准确率
- **一键评估**: 自动评估模型性能
- **模型删除**: 安全删除不需要的模型

### 📁 数据管理
- **数据概览**: 训练、验证、测试数据统计
- **类别分布**: 各个分类类别的数据量分布
- **数据质量检查**: 自动检测数据问题

### ⚡ 模型优化
- **NF4量化**: 4位标准化浮点量化优化
- **智能剪枝**: 基于权重重要性的自适应剪枝
- **块稀疏剪枝**: 硬件友好的结构化剪枝
- **组合优化**: 剪枝+量化组合策略
- **性能比较**: 原始模型 vs 优化模型性能对比

## 🔧 技术实现

### 前端技术栈
- **HTML5 + CSS3**：响应式设计和现代样式
- **原生JavaScript**：无框架依赖，轻量高效
- **Fetch API**：异步HTTP请求处理
- **CSS Grid + Flexbox**：灵活布局系统

### 后端集成
- **FastAPI**：提供RESTful API接口
- **静态文件服务**：自动托管前端文件
- **CORS支持**：跨域资源共享
- **自动API文档**：Swagger UI集成

## 📁 文件结构

```
frontend/
├── index.html          # Web界面主文件（文本分类）
├── admin.html          # 管理控制台界面（模型管理和优化）
└── README.md           # 前端使用说明

start.py               # 集成启动脚本（支持web命令）
app.py                 # FastAPI应用（已添加静态文件支持）
training_api.py        # 训练管理API后端
optimization_api.py    # 优化功能API后端
```

## 🌟 界面截图说明

### 主界面
- 顶部：项目标题和介绍
- 中间：文本输入区域和预测按钮
- 底部：示例文本卡片

### 结果展示
- 预测类别：大字体显示最终分类
- 置信度：彩色徽章显示可信程度
- 概率分布：水平条形图展示所有类别概率

### 响应式设计
- 桌面：三列布局，完整功能展示
- 平板：两列布局，适配中等屏幕
- 手机：单列布局，触摸友好

## 🎯 最佳实践

1. **输入建议**：使用完整的中文句子，避免过短文本
2. **网络要求**：确保与API服务的网络连接稳定
3. **浏览器支持**：推荐使用Chrome、Firefox、Safari等现代浏览器
4. **性能优化**：避免频繁点击，等待当前预测完成

---

🚀 **享受使用BERT文本分类Web界面！**